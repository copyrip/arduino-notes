/*********
  Rui Santos
  Complete project details at https://randomnerdtutorials.com  
*********/

#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>
#include <Fonts/FreeSerif24pt7b.h>

#define SCREEN_WIDTH 64 // OLED display width, in pixels
#define SCREEN_HEIGHT 48 // OLED display height, in pixels

#define OLED_RESET 0  // GPIO0
Adafruit_SSD1306 display(OLED_RESET);
#define FRAME_DELAY (42)
#define FRAME_WIDTH (32)
#define FRAME_HEIGHT (32)
#define FRAME_COUNT (sizeof(frames) / sizeof(frames[0]))
const byte PROGMEM frames[][128] = {
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,128,248,0,112,239,15,255,192,56,0,7,0,0,0,28,0,0,0,112,0,0,0,192,0,0,0,128,48,0,0,193,248,0,0,63,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,14,0,0,96,249,0,0,63,19,128,0,24,23,192,0,24,30,96,0,144,4,240,0,240,7,200,0,192,1,156,4,128,0,186,7,128,0,242,68,0,0,38,124,0,0,28,48,0,0,6,96,0,0,3,192,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,128,248,0,112,239,15,255,192,56,0,7,0,0,0,28,0,0,0,112,0,0,0,192,0,0,0,128,48,0,0,193,248,0,0,63,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,14,0,0,96,249,0,0,63,19,128,0,24,23,192,0,24,30,96,0,144,4,240,0,240,7,200,0,192,1,156,4,128,0,186,7,128,0,242,68,0,0,38,124,0,0,28,48,0,0,6,96,0,0,3,192,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,128,248,0,112,239,15,255,192,56,0,7,0,0,0,28,0,0,0,112,0,0,0,192,0,0,0,128,48,0,0,193,248,0,0,63,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,14,0,0,96,249,0,0,63,19,128,0,24,23,192,0,24,30,96,0,144,4,240,0,240,7,200,0,192,1,156,4,128,0,186,7,128,0,242,68,0,0,38,124,0,0,28,48,0,0,6,96,0,0,3,192,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,128,248,0,112,239,15,255,192,56,0,7,0,0,0,28,0,0,0,112,0,0,0,192,0,0,0,128,48,0,0,193,248,0,0,63,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,14,0,0,96,249,0,0,63,19,128,0,24,23,192,0,24,30,96,0,144,4,240,0,240,7,200,0,192,1,156,4,128,0,186,7,128,0,242,68,0,0,38,124,0,0,28,48,0,0,6,96,0,0,3,192,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,128,248,0,112,239,15,255,192,56,0,15,0,0,0,60,0,0,0,224,0,0,1,128,0,0,1,128,112,0,0,99,216,0,0,62,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,14,0,0,96,250,0,0,63,51,0,0,24,55,192,0,8,30,64,0,152,12,240,0,240,7,208,0,64,3,152,4,192,1,190,7,128,0,242,68,0,0,102,124,0,0,60,56,0,0,30,96,0,0,3,192,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,128,248,0,112,239,15,255,192,56,0,30,0,0,0,112,0,0,1,192,0,0,1,0,0,0,1,128,240,0,0,127,152,0,0,24,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,0,0,0,96,254,0,0,63,34,0,0,24,103,0,0,8,46,128,0,136,60,192,0,248,9,240,0,96,15,144,4,64,7,56,7,192,1,124,71,0,1,228,100,0,0,76,60,0,0,126,32,0,0,19,224,0,0,0,128,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,128,248,0,253,207,31,255,224,120,0,62,0,0,1,224,0,0,3,0,0,0,1,0,96,0,0,135,240,0,0,124,24,0,0,0,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,0,0,0,96,252,0,0,63,118,0,0,8,67,0,0,12,71,128,0,140,120,128,0,120,56,192,0,112,25,224,4,96,14,48,7,192,6,56,67,128,2,108,34,0,3,198,60,0,0,206,48,0,0,121,224,0,0,0,192,0},
  {0,0,0,255,255,255,207,227,255,255,254,1,0,7,224,0,0,6,0,0,0,6,0,0,0,15,62,0,0,7,252,0,0,3,56,0,0,1,224,0,0,0,192,0,0,0,96,0,0,0,48,0,0,0,24,0,0,0,12,0,0,0,6,0,128,0,2,0,192,0,99,3,96,0,51,6,48,2,30,12,24,3,12,48,12,1,136,96,6,48,249,192,2,24,227,0,1,12,142,0,0,135,152,0,0,205,240,0,0,120,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,12,24,0,0,12,24,0,3,248,12,120,3,32,7,248,1,128,0,96,0,192,1,192,0,96,3,0,0,48,6,0,0,24,28,0,0,12,48,192,0,6,225,128,0,3,134,0,0,33,140,32,0,16,248,96,0,8,225,196,1,7,195,12,0,135,134,24,24,99,24,112,12,35,176,195,134,62,225,134,195,56,39,12,97,224,62,48,51,192,6,96,30,0,3,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {64,0,0,1,32,0,0,3,16,0,0,6,8,0,0,24,4,0,0,48,2,0,0,225,1,0,1,135,16,128,3,12,24,64,6,24,12,32,8,112,134,48,8,195,195,32,15,134,97,224,6,12,48,192,4,48,24,192,4,97,12,192,7,195,135,128,1,142,228,0,0,220,248,0,0,120,128,0,0,15,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,128,0,0,1,192,0,0,3,96,0,0,14,48,0,0,24,24,0,0,48,8,0,0,49,136,0,0,51,248,0,0,28,112,0,0,24,48,0,0,16,16,0,0,25,176,0,0,15,224,0,0,3,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,128,0,0,1,64,0,0,7,32,0,0,12,24,0,0,24,12,0,0,112,132,0,0,67,194,0,0,198,98,0,0,76,62,0,0,56,28,0,0,33,8,0,0,99,140,0,0,38,216,0,0,60,112,0,0,4,192,0,0,7,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {63,192,1,128,31,128,0,254,12,0,0,28,6,0,0,24,3,0,0,112,1,128,0,192,0,192,3,128,0,96,6,24,0,48,12,48,0,24,56,96,3,12,97,132,1,132,67,12,16,198,78,24,24,100,120,112,140,56,48,195,198,24,33,134,99,24,55,28,49,240,28,48,24,224,4,97,29,128,7,195,159,0,1,78,240,0,0,120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {255,252,3,249,255,255,255,128,0,1,248,0,0,3,128,0,0,3,0,0,0,63,192,0,0,24,254,0,0,12,12,0,0,6,24,0,0,3,96,0,0,1,192,0,0,0,192,0,0,0,120,0,0,0,48,0,0,0,24,0,0,1,14,0,128,1,132,0,192,0,204,193,64,8,121,135,32,12,55,12,48,70,60,56,24,99,248,96,12,33,240,192,6,27,195,128,3,31,198,0,1,176,124,0,0,224,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,128,248,0,248,239,15,255,128,56,0,124,0,0,1,224,0,0,3,0,0,0,3,0,0,0,1,128,240,0,0,255,216,0,0,24,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,0,0,0,96,248,0,0,63,124,0,0,24,68,0,0,12,79,0,0,140,93,128,0,248,57,192,0,112,27,224,4,96,15,32,6,192,6,120,67,128,2,236,98,0,1,204,60,0,0,142,48,0,0,115,32,0,0,33,224,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,192,0,63,128,124,3,224,255,7,255,128,16,0,60,0,0,1,224,0,0,1,0,0,0,1,128,16,0,0,192,248,0,0,127,140,0,0,8,6,0,0,0,3,0,0,0,1,128,0,0,0,192,0,0,0,96,192,0,0,51,124,0,0,30,102,0,0,8,103,0,0,8,108,128,0,200,56,192,0,112,9,224,0,64,15,48,6,64,3,56,7,128,3,100,102,0,1,196,60,0,0,76,56,0,0,123,32,0,0,1,224,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,15,0,224,0,61,199,63,255,224,126,3,255,0,0,0,28,0,0,0,240,0,0,1,128,0,0,1,128,16,0,0,193,248,0,0,127,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,0,0,0,96,254,0,0,63,50,0,0,28,35,128,0,8,54,192,0,8,28,192,0,248,12,240,0,96,7,144,4,64,3,28,7,192,1,182,7,0,0,230,100,0,0,100,60,0,0,62,32,0,0,19,96,0,0,1,192,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,6,0,192,0,31,128,124,0,240,255,7,255,128,16,0,14,0,0,0,56,0,0,0,224,0,0,1,128,0,0,0,192,112,0,0,115,200,0,0,62,4,0,0,0,2,0,0,0,1,0,0,0,0,128,0,0,0,64,222,0,0,35,115,0,0,30,51,128,0,24,22,64,0,24,28,96,0,240,4,240,0,224,7,152,0,192,1,156,6,128,0,182,7,0,0,226,68,0,0,38,124,0,0,60,48,0,0,2,96,0,0,1,192,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,128,248,0,112,239,15,255,192,56,0,7,0,0,0,28,0,0,0,112,0,0,0,192,0,0,0,128,48,0,0,193,248,0,0,63,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,14,0,0,96,249,0,0,63,19,128,0,24,23,192,0,24,30,96,0,144,4,240,0,240,7,200,0,192,1,156,4,128,0,186,7,128,0,242,68,0,0,38,124,0,0,28,48,0,0,6,96,0,0,3,192,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,128,248,0,112,239,15,255,192,56,0,7,0,0,0,28,0,0,0,112,0,0,0,192,0,0,0,128,48,0,0,193,248,0,0,63,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,14,0,0,96,249,0,0,63,19,128,0,24,23,192,0,24,30,96,0,144,4,240,0,240,7,200,0,192,1,156,4,128,0,186,7,128,0,242,68,0,0,38,124,0,0,28,48,0,0,6,96,0,0,3,192,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,128,248,0,112,239,15,255,192,56,0,7,0,0,0,28,0,0,0,112,0,0,0,192,0,0,0,128,48,0,0,193,248,0,0,63,12,0,0,0,6,0,0,0,3,0,0,0,1,128,0,0,0,192,14,0,0,96,249,0,0,63,19,128,0,24,23,192,0,24,30,96,0,144,4,240,0,240,7,200,0,192,1,156,4,128,0,186,7,128,0,242,68,0,0,38,124,0,0,28,48,0,0,6,96,0,0,3,192,0,0,0,0,0}
};


void setup() {
  Serial.begin(115200);

/*
  if(!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) { 
    Serial.println("SSD1306 allocation failed");
    for(;;);
  }
  */
  delay(2000);

  display.begin(SSD1306_SWITCHCAPVCC, 0x3C);
  display.clearDisplay();
/*
  display.setFont(&FreeSerif24pt7b);
  display.clearDisplay();
  display.setTextSize(1);             
  display.setTextColor(WHITE);        
  display.setCursor(0,20);
  display.drawLine(0, 0, 122, 77, WHITE);
  */
  /*
  display.drawPixel(0,0, WHITE);
  display.drawPixel(10,30, WHITE);
  display.drawPixel(40,30, WHITE);
  display.drawPixel(63,47, WHITE);
  */

    //display.drawLine(0, 0, 63, 47, WHITE);
    //display.drawLine(0, 47, 63, 0, WHITE);


  /*
  display.drawPixel(30,30, WHITE);
  display.drawPixel(50,50, WHITE);
  display.drawPixel(63,63, WHITE);
  display.drawPixel(126,126, WHITE);
  */
               
  display.println("22");
  display.display();
  delay(500);

  
}

int frame = 0;
void loop() {
  /*
  display.drawLine(0, 0, 63, 47, WHITE);
  display.display();
  delay(1000);
  display.drawLine(0, 47, 63, 0, WHITE);
  display.display();
  delay(1000);
   display.drawLine(0, 0, 63, 47, BLACK);
  display.drawLine(0, 47, 63, 0, BLACK);
  display.display();
  //display.clearDisplay();
  delay(1000);
  */
  

  display.clearDisplay();
  display.drawBitmap(0, 0, frames[frame], FRAME_WIDTH, FRAME_HEIGHT, 1);
  display.display();
  frame = (frame + 1) % FRAME_COUNT;
  delay(FRAME_DELAY);
  
 
}
